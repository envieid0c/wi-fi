Для 300 nru h/w ver.: b5-7


Если у вас роутер "из коробки", с прошивкой 1.2.94 и ниже, тогда начинайте с пункта 4.
Если у вас прошивка версии 1.4.9, тогда вам необходимо восстановить старый загрузчик, который позволит перешить нужную прошивку. Даунгрейд прошивок вам не поможет, ибо загрузчик они не восстанавливают.


Как понизить uboot и перешить с офф. прошивки 1.4.9 на прошивку от keenetic start:

1. Понижение версии офф прошивки и перешив на Keenetic LiteB.
 Адрес сетевой карты 192.168.0.2, маска подсети 255.255.255.0
(Я оставил автоматом)

Через веб-морду 192.168.0.1 --> Обновление ПО --> DIR_300NRUB5_1.3.0__12012012.bin --> DIR_300NRUB5-1.2.94-20110414.bin --> DIR_300NRUB5-to-KeeneticLiteB.fwz
DIR_300NRUB5-to-KeeneticLiteB.rar
(Благополучно понизил версии и перешел на Лайт)

2. Запустить на компьютере сервер tftpd.32
Взять загрузчик - mtd1.bin и переименовать его в uboot.bin, положить в корневую папку tftp-сервера или в настройках сервера указать путь к папке с файлом uboot.bin

3. Адрес сетевой карты 192.168.1.2, маска подсети 255.255.255.0
(тоже оставлял автоматом)
Войти telnet'ом в роутер:
telnet 192.168.1.1
Ввести пароль (1234 или свой собственный)
Получить root-доступ:
flash || sh
Скопировать загрузчик с компьютера в память роутера:
tftp -g -r uboot.bin -l /var/tmp/uboot.bin 192.168.1.33 (или соответствующий адрес компа)
Залить загрузчик в раздел mtdblock/0
cat /var/tmp/uboot.bin >/dev/mtdblock/0
перезагрузить роутер:
reboot

Здесь столкнулся с небольшими непонятками.
Т.к. с telnet и tftpd.32 не работал, не знал как его запускать. Оказывается ничего такого. Просто закинул папку с tftpd.32 на диск C. Запустил tftpd.32 и выбрал источник 192.168.1.33 (или прописанный в свойствах сетевой карты адрес)
Включил в Win7 клиент telnet
Прямо в строке поиска забил: telnet 192.168.1.1
Все запустилось... Но ни пароль, ни логин не спрашивает. Висит значок "#" и еще какой то.
Долго пытался выяснить что делать дальше. Логина ведь не спрашивает. Не накосячить б. Так и не нашел  
Хоть и не спрашивало логина и пароля, ввел flash || sh благополучно подключилось к роутеру.  
Далее все по инструкции.

4. Прошивка KEENETIC_START через failsafe ui (режим восстановления).
 Адрес сетевой карты 192.168.0.10, маска подсети 255.255.255.0

Через failsafe ui (выключить, зажать reset, подключить питание, подождать 5-10сек отпустить reset)
В браузере вбить адрес:
192.168.0.1
выбрать http://dir620.ipb.su/index.php?showtopic=1...2[AAKV.3]C1.bin

5. Адрес сетевой карты и маска подсети автоматом.
Через веб-морду 192.168.1.1 --> Сбросить к заводским настройкам.

После всего b5-b7 через вэб морду можно обновить 2.02 до 2.03 с вэб сайта zyxel